{% extends "base.html" %}
{% load static %}
{% block body_here %}
<!-- Main Layout -->
<style>
  body {
      font-family: Arial, sans-serif;
      background-color: #d9f2e5;
  }

  .nav-link.active {
    background-color: #3bab71; /* Replace with your desired color */
    color: white; /* Adjust text color for better contrast */
  }

  .nav-link.active:hover {
    background-color: #7ad1a4; /* Slightly darker shade for hover */
  }

  .student-icon {
    width: 35px;
    height: 35px;
    border-radius: 10%; /* Makes it circular */
    object-fit: cover; /* Ensures proper scaling of image */
    margin-right: 5px;
  }
  .welcome-text {
    font-size: 1.2rem;
    font-weight: bold;
    color: #2e8558;
    text-decoration: none;
  }
  .student-name {
    color: #007bff; /* Highlighted color for student name */
  }

  #calendar {
    background-color: #f9f9f9;
    border: 2px solid #cccccc;
    padding: 10px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-decoration: none !important;
    color: black;
  }
  #calendar a{
    text-decoration: none !important;
    color: black;
  }


</style>

<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<!-- Include Popper.js (required for Bootstrap JS) -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>

<!-- Include Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>


<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">

<div class="d-flex">
    <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 20%;">
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a href="#" class="welcome-text" aria-current="page">
            <img 
            src="{% static 'images/company_icon.png' %}" 
            alt="Student Icon" 
              class="student-icon"
              >
              {{ request.session.u_name }}
            </a>
          </li>
          <hr>
          <li class="nav-item">
            <a href="/company/home" class="nav-link active" style = "background-color: #3bab71; ">
                <i class="bi bi-house-door-fill me-2"></i>
                Home
            </a>
          </li>
          <li>
            <a href="/company/postjob" class="nav-link link-dark" >
                <i class="bi bi-megaphone me-2"></i>
              Post New Job
            </a>
          </li>
          <li>
            <a href="/company/ong_recruitments" class="nav-link link-dark">
                <i class="bi bi-grid me-2"></i>
              Ongoing Recruitments
            </a>
          </li>
          <li>
            <a href="/company/college_history" class="nav-link link-dark">
                <i class="bi bi-check-circle me-2"></i>
              Placement History
            </a>
          </li>
        </ul>
        <hr>
      </div>
    <!-- Main Content -->
    <div class="main-content flex-grow-1">
      <div class="container">
        <div class="row">
          
      <div class="col-md-8">
        <div id="calendar" style = " text-decoration: none !important; color: black"></div>
      </div>
      
      <div class="card shadow border-0" style = "width: 300px; padding-top: 15px;">
          <div class="card-header text-white" style = "background: #7ad1a4; ">
              <h5 class="card-title mb-0" style = "font-variant: small-caps; color: #152a37; ">{{ company_details.cp_name }}'s Profile</h5>
          </div>
          <div class="card-body" style = "width: 300px;">
              <div class="row mb-2">
                  <div class="col-md-11">
                      <strong>Company ID:</strong>
                      <p>{{ company_details.cp_id }}</p>
                  </div>
              </div>
              <div class="row mb-2">
                  <div class="col-md-11">
                      <strong>Company Domain:</strong>
                      <p>{{ company_details.cp_type }}</p>
                  </div>
              </div>
              <div class="row mb-2">
                  <div class="col-md-11">
                      <strong>Company Location:</strong>
                      <p>{{ company_details.cp_location }}</p>
                  </div>
              </div>
              <div class="row mb-2">
                <div class="col-md-11">
                    <strong>Contact Name:</strong>
                    <p>{{ company_details.cp_contact_name }}</p>
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-md-11">
                    <strong>Contact Email:</strong>
                    <p>{{ company_details.cp_contact_email }}</p>
                </div>
          </div>
          <div class="row mb-2">
              <div class="col-md-11">
                  <strong>Contact Phone:</strong>
                  <p>{{ company_details.cp_contact_phone }}</p>
              </div>
      </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var calendarEl = document.getElementById('calendar');
      event_colors = ['red', 'blue', 'green'];
      // Initialize FullCalendar

      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth', // Month view
        events: [

          {% for event in events %}
          {
            id: '{{ event.id }}',
            title: '{{ event.compName }}',
            start: '{{ event.start }}',
            backgroundColor: event_colors['{{ event.round }}'],
          },
          {% endfor %}
        ],
      });

      // Render the calendar
      calendar.render();

      // Example: Access an event by ID
      var event = calendar.getEventById('1'); // Replace '1' with the event ID
      if (event) {
        console.log('Event Title:', event.title); // Log event details
        console.log('Event Start Date:', event.start.toISOString());
      }
    });
  </script>
{% endblock %}