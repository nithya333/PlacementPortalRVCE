{% extends "base.html" %}
{% load static %}
{% block body_here %}
<!-- Main Layout -->

<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #dae8f1;
}

.nav-link.active {
  background-color: #3f7fa6; /* Replace with your desired color */
  color: white; /* Adjust text color for better contrast */
}

.nav-link.active:hover {
  background-color: #7eafce; /* Slightly darker shade for hover */
}

.student-icon {
  width: 60px;
  height: 60px;
  border-radius: 60%; /* Makes it circular */
  object-fit: cover; /* Ensures proper scaling of image */
}
.welcome-text {
  font-size: 1.2rem;
  font-weight: bold;
  color: #23465c;
  text-decoration: none;
}
.student-name {
  color: #007bff; /* Highlighted color for student name */
}

.container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  padding: 20px;
}

/* Card Styles */
.card {
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  width: 300px;
  padding: 20px;
  text-align: left;
  transition: transform 0.2s, box-shadow 0.2s;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
}

.card h3 {
  font-size: 1.2rem;
  margin-bottom: 20px;
  color: #1c384a;
}


.deadline {
  color: #d9534f; /* Red color for urgency */
  font-size: 1rem;

}

.job-details-table {
  width: 100%;
  border-collapse: separate; /* Use separate borders for spacing */
  border-spacing: 3px; /* Adds spacing between cells */
  margin-top: 5px;
}

/* Body Styling */
.card p, td {
  margin: 8px 0;
  font-size: 0.95rem;
  color: black;
  line-height: 1.4;
  font-weight: 300;
}

.card b, th {
  font-size: 0.87rem;
  color: #2a556f;
}


/* Timeline Styles */
    .timeline {
        position: relative;

        border-left: 3px solid #e0e0e0;
    }
    .timeline p, span{
        padding-left: 10px;
    }

    .timeline-item {
        position: relative;
        margin-bottom: 20px;
    }

    .timeline-item:last-child {
        margin-bottom: 0;
    }

    .timeline-item::before {
        content: '';
        position: absolute;
        left: -11px;
        top: 0;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background-color: #e0e0e0;
        border: 2px solid #fff;
        z-index: 2;
    }

    .timeline-item.completed::before {
        background-color: #4caf50;
    }

    .timeline-item span {
        display: inline-block;
        margin-left: 10px;
        font-size: 0.9rem;
        color: #555;
    }

    .timeline-item.completed span {
        color: #333;
        font-weight: bold;
    }


</style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap5-toggle@5.1.1/css/bootstrap5-toggle.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap5-toggle@5.1.1/js/bootstrap5-toggle.ecmas.min.js"></script>

    <div class="d-flex">
        <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 20%;">
            <ul class="nav nav-pills flex-column mb-auto">
              <li class="nav-item">
                <a href="#" class="welcome-text" aria-current="page">
                  <img 
                  src="https://img.freepik.com/premium-vector/boy-student-graduate-cap-icon-sign-logo-color-isolated-image-circle-isolated-vector-illustration_619989-1110.jpg" 
                  alt="Student Icon" 
                    class="student-icon"
                    >
                    {{ request.session.u_name }}
                  </a>
                </li>
                <hr>
                <li class="nav-item">
                  <a href="/student/home" class="nav-link active"  style = "background-color: #3f7fa6; ">
                      <i class="bi bi-house-door-fill me-2"></i>
                      Home
                  </a>
                </li>
                <li>
                  <a href="/student/profile" class="nav-link link-dark">
                      <i class="bi bi-person me-2"></i>
                    Profile
                  </a>
                </li>
                <li>
                  <a href="/student/applied" class="nav-link link-dark">
                      <i class="bi bi-grid me-2"></i>
                    Active Applications
                  </a>
                </li>
                <li>
                  <a href="/student/past_applied" class="nav-link link-dark">
                      <i class="bi bi-archive me-2"></i>
                    Past Applications
                  </a>
                </li>
                <li>
                  <a href="/student/new"  class="nav-link link-dark" >
                      <i class="bi bi-megaphone me-2"></i>
                    New Offers
                  </a>
                </li>
                <li>
                  <a href="/student/fetchpdf/{{ request.session.u_id|default:'' }}" class="nav-link link-dark">
                      <i class="bi bi-download me-2"></i>
                    Export Resume
                  </a>
                </li>
              {% comment %} <li>
                <a href="#" class="nav-link link-dark">
                    <i class="bi bi-peoplecircle me-2"></i>
                  Customers
                </a>
              </li> {% endcomment %}
            </ul>
            <hr>
          </div>
    <!-- Main Content -->
    <div class="main-content flex-grow-1">
      <div class="container my-5">
        <div class="card shadow border-0" style = "width: 900px;">
            <div class="card-header text-white" style = "background: #7eafce;">
                <h3 class="card-title mb-0" style = "font-variant: small-caps; color: #152a37; font-weight:bold;">{{ job_details.job_companyName }}'s job offer</h3>
            </div>
            <div class="card-body" style = "width: 900px;">
                <div class="row mb-3">
                    <div class="col-md-3">
                        <strong>Job Title:</strong>
                        <p>{{ job_details.job_title }} </p>
                    </div>
                    <div class="col-md-3">
                        <strong>Job Type:</strong>
                        <p>{{ job_details.job_type }}</p>
                    </div>
      
                    <div class="col-md-3">
                        <strong>Duration:</strong>
                        <p>{{ job_details.job_duration }}</p>
                    </div>
                    <div class="col-md-3">
                        <strong>Salary:</strong>
                        <p>{{ job_details.job_salary }} LPA</p>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-3">
                        <strong>Job Domain:</strong>
                        <p>{{ job_details.job_domain }}</p>
                    </div>
                    <div class="col-md-3">
                        <strong>Job Description:</strong>
                        <p>{{ job_details.job_desc }}</p>
                    </div>
                    <div class="col-md-3">
                        <strong>Locations:</strong>
                        <p>{{ job_details.job_locations }}</p>
                    </div>
                    <div class="col-md-3">
                        <strong>CGPA Criteria:</strong>
                        <p>{{ job_details.cgpaMinCriteria }} - {{ job_details.cgpaMaxCriteria }}</p>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-3">
                        <strong>Degree Criteria:</strong>
                        <p>{{ job_details.degreeCriteria }}</p>
                    </div>
                    <div class="col-md-3">
                        <strong>Departments:</strong>
                        <p>{{ job_details.deptsCriteria }}</p>
                    </div>
                    <div class="col-md-3">
                        <strong>Year of Passing Criteria:</strong>
                        <p>{{ job_details.yearOfPassingCriteria }}</p>
                    </div>
                    <div class="col-md-3">
                        <strong>Skills Preferred:</strong>
                        <p>{{ job_details.skillsPreferences }}</p>
                    </div>
                </div>
            </div>
        </div>
      </div>
      <div class="container my-5" >
        <div class="card shadow border-0" style = "width: 900px;">
          <div class="card-header text-white" style = "background: #7eafce;">
              <h3 class="card-title mb-0" style = "font-variant: small-caps; color: #152a37; font-weight:bold;">Shortlisting Students</h3>
          </div>
          <div class="card-body" style = "width: 850px;">
        
            <form action="/student/spc_shortlist_selected" method="POST">
              <input type="hidden" name="job_id" value="{{ job_details.job_id }}">
              
              <div style="overflow-x: auto; white-space: nowrap; margin-top: 15px;">
                <table class="table table-striped table-bordered" style="min-width: 600px;">
           
                  <thead>
                    <tr>
                      <th>Student ID</th>
                      <th>Student Name</th>
                        <th>Class</th>
                        <th>CGPA</th>
                        <th>10th Marks</th>
                        <th>12th Marks</th>
                        <th>Backlogs</th>
                        <th>Actions</th>

                        </tr>
                      </thead>
                      <tbody>
                        {% for applicant in applicants %}
                          <tr>
                            <td>{{ applicant.st_id }}</td>
                            <td>{{ applicant.st_name }}</td>
                            <td>{{ applicant.st_section }}</td>
                            <td>{{ applicant.e_cgpa }}</td>
                            <td>{{ applicant.e_10thmarks }}</td>
                            <td>{{ applicant.e_12thmarks }}</td>
                            <td>{{ applicant.e_backlogs }}</td>
                            <td>
                              {% comment %} <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="{{ applicant.appl_id}}" checked>
                                <label class="form-check-label" for="{{ applicant.appl_id}}">Shortlist</label> 
                              </div> {% endcomment %}
                              {% comment %} <input type="checkbox" id = "{{ applicant.appl_id }}" name = "{{ applicant.appl_id }}" checked data-toggle="toggle" data-onlabel="Shortlisted" data-offlabel="Rejected" data-onstyle="success" data-offstyle="danger"> {% endcomment %}
                              
                              
                              <!-- Always "off" -->
                              <input type="hidden" name="appl_id_{{ applicant.appl_id }}" name="appl_id_{{ applicant.appl_id }}" value="off">
                              
                              <!-- Additionally with "off", "on" will come -->
                              <input type="checkbox" id="appl_id_{{ applicant.appl_id }}" name="appl_id_{{ applicant.appl_id }}" value="on" checked 
                                    data-toggle="toggle" data-onlabel="Shortlisted" data-offlabel="Rejected" 
                                    data-onstyle="success" data-offstyle="danger">
                            </td>
                          </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                </div>
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                  <button type="submit"  style = "background: #3f7fa6; color: #fff;                  border: none;
                  border-radius: 5px;
                  padding: 10px 20px;
                  font-size: 1rem;">Shortlist candidates</button>
              </form>
            </div>
        </div>

        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

</div>
{% endblock %}