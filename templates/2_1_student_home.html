{% extends "base.html" %}
{% load static %}
{% block body_here %}
<!-- Main Layout -->
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #dae8f1;
}

.nav-link.active {
  background-color: #3f7fa6; /* Replace with your desired color */
  color: white; /* Adjust text color for better contrast */
}

.nav-link.active:hover {
  background-color: #7eafce; /* Slightly darker shade for hover */
}

.student-icon {
  width: 60px;
  height: 60px;
  border-radius: 60%; /* Makes it circular */
  object-fit: cover; /* Ensures proper scaling of image */
}
.welcome-text {
  font-size: 1.2rem;
  font-weight: bold;
  color: #23465c;
  text-decoration: none;
}
.student-name {
  color: #007bff; /* Highlighted color for student name */
}

#calendar {
  background-color: #f9f9f9;
  border: 2px solid #cccccc;
  padding: 10px;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  text-decoration: none !important;
  color: black;
}
#calendar a{
  text-decoration: none !important;
  color: black;
}
</style>

<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<!-- Include Popper.js (required for Bootstrap JS) -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>

<!-- Include Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>


<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">

    <div class="d-flex">
        <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 20%;">
            <ul class="nav nav-pills flex-column mb-auto">
              <li class="nav-item">
                <a href="#" class="welcome-text" aria-current="page">
                  <img 
                  src="https://img.freepik.com/premium-vector/boy-student-graduate-cap-icon-sign-logo-color-isolated-image-circle-isolated-vector-illustration_619989-1110.jpg" 
                  alt="Student Icon" 
                    class="student-icon"
                    >
                    {{ request.session.u_name }}
                  </a>
                </li>
                <hr>
              <li class="nav-item">
                <a href="/student/home" class="nav-link active "  style = "background-color: #3f7fa6; ">
                    <i class="bi bi-house-door-fill me-2"></i>
                    Home
                </a>
              </li>
              <li>
                <a href="/student/profile" class="nav-link link-dark">
                    <i class="bi bi-person me-2"></i>
                  Profile
                </a>
              </li>
              <li>
                <a href="/student/applied" class="nav-link link-dark">
                    <i class="bi bi-grid me-2"></i>
                  Applied Jobs
                </a>
              </li>
              <li>
                <a href="/student/new" class="nav-link link-dark">
                    <i class="bi bi-megaphone me-2"></i>
                  New Offers
                </a>
              </li>
              <li>
                <a href="/student/fetchpdf/{{ request.session.u_id|default:'' }}" class="nav-link link-dark">
                    <i class="bi bi-download me-2"></i>
                  Export Resume
                </a>
              </li>
              {% comment %} <li>
                <a href="#" class="nav-link link-dark">
                    <i class="bi bi-peoplecircle me-2"></i>
                  Customers
                </a>
              </li> {% endcomment %}
            </ul>
            <hr>
          </div>
    <!-- Main Content -->
    <div class="main-content flex-grow-1">
      <div class="col-md-9">

        <div id="calendar" style = " text-decoration: none !important; color: black"></div>

    </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var calendarEl = document.getElementById('calendar');
      event_colors = ['red', 'blue', 'green'];
      // Initialize FullCalendar

      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth', // Month view
        events: [

          {% for event in events %}
          {
            id: '{{ event.id }}',
            title: '{{ event.compName }}',
            start: '{{ event.start }}',
            backgroundColor: event_colors['{{ event.round }}'],
          },
          {% endfor %}
        ],
      });

      // Render the calendar
      calendar.render();

      // Example: Access an event by ID
      var event = calendar.getEventById('1'); // Replace '1' with the event ID
      if (event) {
        console.log('Event Title:', event.title); // Log event details
        console.log('Event Start Date:', event.start.toISOString());
      }
    });
  </script>
{% endblock %}